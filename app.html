<!DOCTYPE html>
<html>
  <head>
    <title>Contacts</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      #map {
        height: 100%;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map, me

      function updateMap() {
        var latlngbounds = new google.maps.LatLngBounds()
        if (me) {
          latlngbounds.extend(me.getPosition())
        }
        map.fitBounds(latlngbounds)
        map.panTo(latlngbounds.getCenter())
      }

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: { lat: 48.8746186, lng: 2.3307152 },
          zoom: 12,
          disableDefaultUI: true
        })
        navigator.geolocation.watchPosition(function (p) {
          if (!me) {
            me = new google.maps.Marker({
              map: map,
              icon: {
                url: 'https://chadkillingsworth.github.io/geolocation-marker/images/gpsloc.png',
                size: new google.maps.Size(34, 34),
                scaledSize: new google.maps.Size(17, 17),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(8, 8)
              },
              title: 'me'
            })
          }
          me.setPosition({ lat: p.coords.latitude, lng: p.coords.longitude })
          updateMap()
        })
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBnjpOEKp1Vmdq_9PMpi_BDubRnoKXgGj4&callback=initMap" async defer></script>
  </body>
</html>
